<div class="card h-100 product-card">
  <div class="product-image-container">
    <img [src]="product.imageUrl || 'https://placehold.co/600x400?text=No+Image'" class="card-img-top clickable" [alt]="product.name" (click)="viewDetails()">
    <button class="wishlist-btn" (click)="toggleWishlist()">
      <i class="bi" [ngClass]="isWishlisted ? 'bi-heart-fill in-wishlist' : 'bi-heart'"></i>
    </button>
  </div>
  <div class="card-body d-flex flex-column">
    <h5 class="card-title clickable" (click)="viewDetails()">{{ product.name }}</h5>
    <p class="card-text text-muted flex-grow-1">{{ product.description | slice:0:80 }}...</p>
    <div class="d-flex justify-content-between align-items-center">
      <div class="card-price">
          <span *ngIf="product.originalPrice && product.originalPrice > product.price" class="text-muted text-decoration-line-through me-2">
              ₹{{ product.originalPrice | number:'1.2-2' }}
          </span>
          <span class="fw-bold">
              ₹{{ product.price | number:'1.2-2' }}
          </span>
      </div>
      <span class="badge bg-primary">{{ product.category.name }}</span>
  </div>
  </div>
  <div class="card-footer bg-white border-0">
     <button class="btn btn-primary w-100" (click)="addToCart()">Add to Cart</button>
  </div>
</div>
